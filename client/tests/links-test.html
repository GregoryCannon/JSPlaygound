<html>
  
<head>
  <title>Links test</title>
  <script src="../links.js" charset="utf-8"></script>
  <script charset="utf-8">
    function testShorten() {
      function test(names, expected) {
        const actual = Array.from(shorten(names).values());
        actual.sort();
        expected.sort();
        console.assert(actual.length === expected.length);
        for (let i = 0; i < actual.length; i++) {
          console.assert(actual[i] === expected[i]); 
        }
      }

      test(['alice blue'], ['alice b.']);
      test(['alice', 'bob'], ['alice', 'bob']);
      test(['alice', 'alice bob'], ['alice', 'alice b.']);
      test(['alice blue', 'alice brown'], ['alice bl.', 'alice br.']);
      test(['alice blue', 'bob green', 'charlie red'], ['alice b.', 'bob g.', 'charlie r.']);
      test(['alice blue', 'alice brown', 'alice black'], ['alice blu.', 'alice br.', 'alice bla.']);
      test(['alice blue', 'alice bluer'], ['alice blue', 'alice blue.']);
    }
    testShorten();
  </script>
</head>

</html>
